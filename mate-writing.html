<!DOCTYPE html>

<head>
  <meta charset="UTF-8">
  <title>덕구</title>
  <script src="js/change_color.js"></script>
  <link rel="stylesheet" href="css/search.css">
  <link rel="stylesheet" href="css/header.css">
  <link rel="stylesheet" href="css/modal.css">
  <link rel="stylesheet" href="css/login-modal.css">
  <link rel="stylesheet" href="css/banner.css">
  <link rel="stylesheet" href="css/writing.css">
  <link rel="shortcut icon" href="images/header_logo.png">
  <script src="https://developers.kakao.com/sdk/js/kakao.js"></script>
</head>

<body>
  <div class="container">
    <aside id="aisdeLeft"></aside>
    <section id="section">
      <div class="header">
        <div class="navbar">
          <!-- 로고 -->
          <div class="menu-margin-left">
            <a href="index.html"><img class="logo-image" src="images/logo.png"></a>
          </div>
          <!-- 검색창 메뉴 -->
          <div class="search" id="search-margin">
            <input type="text" placeholder="검색어를 입력해주세요.">
          </div>
          <!-- 텍스트 메뉴 -->
          <div class="tab">
            <li class="menu"><a href="mate.html">MATE</a></li>
            <li class="menu"><a href="exchange.html">EXCHANGE</a></li>
            <li class="menu"><a href="talk.html">TALK</a></li>
          </div>
          <!-- 프로필 메뉴 -->
          <div class="menu-margin-right">
            <button class="trigger" onclick="toggleImg()" id="profile-button">
              <img id="img" class="profile-image" src="images/profile.png">
            </button>
          </div>
        </div>
      </div>
    </section>
    <aside id="aisdeRight"></aside>
  </div>

  <!-- 로그인 전 모달창 -->
  <!-- <div class="login-modal">
    <div class="login-modal-content">
      <p class="login-modal-title-text">로그인을 해주세요.</p>
      <p class="login-modal-text">
        본인 인증 상의 문제로 카카오톡<br>
        로그인만 지원하는 점 양해 부탁드립니다.
      </p>
      <button id="login-button" onclick="kakaoLogin()">카카오계정으로 로그인</button>
    </div>
  </div> -->

  <!-- 로그인 후 모달 창 -->
  <div class="modal">
    <div class="modal-content">
      <img class="user-image" src="images/user-image.jpg">
      <p class="modal-name">김지연</p>
      <p class="modal-email">s2019w24@e-mirim.hs.kr</p>
      <button id="lookfor-mate-button">덕메 구하기</button>
      <button id="cardtext-button" onclick="location.reload();">포카 교환글 작성</button>
      <button id="logout-button">로그아웃</button>
    </div>
  </div>
  
  <!-- 모달 창 JS -->
  <script type="text/javascript">
    //로그인 모달
    // var modal = document.querySelector(".login-modal");
    //로그인 이후 모달 - 기본 모달
    var modal = document.querySelector(".modal");

    var trigger = document.querySelector(".trigger");
    
    // 클릭시 모달 창 보이게 하는 함수
    function toggleModal() {
      modal.classList.toggle("show-modal");
    }

    // 모달 창 외 다른 화면 클릭시 자동 꺼짐 & 버튼 색깔 회색으로 돌아옴
    function windowOnClick(event) {
      if (event.target === modal) {
        toggleModal();
        document.getElementById("img").src = "images/profile.png";
      }
    }

    trigger.addEventListener("click", toggleModal);
    window.addEventListener("click", windowOnClick);
    
    Kakao.init('3fbbdc23623925f715e2c80b28de7810'); //카카오 발급 키
    console.log(Kakao.insInitialized());
    function kakaoLogin(){
      Kakao.Auth.login({
        success: function(response){
          Kakao.API.request({
            url: '/v2/user/me',
            success: function(response){
              console.log(response)
            },
            fail: function(error){
              console.log(error)
            },
          })
        },
        fail: function(error) {
          console.log(error)
        },
      })
    }

    function kakaoLogout() {
    if (Kakao.Auth.getAccessToken()) {
      Kakao.API.request({
        url: '/v1/user/unlink',
        success: function (response) {
        	console.log(response)
        },
        fail: function (error) {
          console.log(error)
        },
      })
      Kakao.Auth.setAccessToken(undefined)
    }
  }  
  </script>

  <!-- 메뉴바 아래 본문 -->
  <img id="banner" src="images/banner1.png">
  <p class="banner-title-text">덕구를 이용해</p>
  <p class="banner-text1">함께할 덕질 메이트를</p> 
  <p class="banner-text2">구해보세요!</p>
  <button id="mate-button" onclick="location.href='mate.html'">구하러가기</button>

  <!-- 본문 -->
  <p class="writing-title-text">포토카드 교환하기</p>
  
  <!-- 제목 -->
  <div id="card-exchange">
    <p class="writing-title-short">제목</p>
    <input class="input-title" type="text" placeholder="제목을 입력해주세요.">
  </div>
  
  <!-- 성별 -->
  <div id="card-exchange">
    <p class="writing-title-long">성별</p>
    <select class="select-gender" name="gender">
      <option value="여자">여자</option>
      <option value="남자">남자</option>
      <option value="상관없음">상관없음</option>
    </select>
  </div>
  
  <!-- 카테고리 -->
  <div id="card-exchange">
    <p class="writing-title-short">카테고리</p>
  </div>
  
  <!-- 소유멤버 -->
  <div id="card-exchange">
    <p class="writing-title-long">회차 정보</p>
    <input class="input-member" type="text" placeholder="활동명을 정확히 입력해주세요.">
  </div>

  <!-- 교환멤버 -->
  <div id="card-exchange">
    <p class="writing-title-long">장소</p>
    <input class="input-member" type="text" placeholder="활동명을 정확히 입력해주세요.">
  </div>

  <!-- 배송방식 -->
  <div id="card-exchange">
    <p class="writing-title-long">해시태그</p>
    <label class="delivery-checkbox">
      <input class="delivery-checkbox-input" type="checkbox" name="delivery" value="직거래">직거래
      <!-- <input class="delivery-checkbox-input" type="checkbox" name="delivery" value="우편">우편
      <input class="delivery-checkbox-input" type="checkbox" name="delivery" value="준등기">준등기
      <input class="delivery-checkbox-input" type="checkbox" name="delivery" value="등기">등기
      <input class="delivery-checkbox-input" type="checkbox" name="delivery" value="택배">택배
      <input class="delivery-checkbox-input" type="checkbox" name="delivery" value="반값택배">반값택배
      <input class="delivery-checkbox-input" type="checkbox" name="delivery" value="편의점택배">편의점택배 -->
    </label>
  </div>

  <div id="card-exchange">  
    <p class="writing-title-long">장소</p>
  </div>

  <div id="card-exchange">  
    <p class="writing-title-long">첨부 파일</p>
    <div class="filebox"> 
      <label for="file">업로드</label> 
      <input type="file" id="file"> 
      <input class="upload-name" value="파일선택">
    </div>
  </div>
  
  <div id="card-exchange">  
    <p class="writing-title-short">내용</p>
    <textarea class="input-text" placeholder="내용을 입력하세요."></textarea>
  </div>
  <button class="submit-button">등록</button>
</body>

</html>